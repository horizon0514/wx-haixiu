{"version":3,"sources":["pages/index/index.js"],"names":["app","getApp","Page","data","title","userInfo","topics","onLoad","console","log","getUserInfo","then","setData","info","catch","fetchData","self","wx","request","url","header","success","res","docs","onReady","onShow","onHide","onUnload","onPullDownRefresh"],"mappings":";;AAAA;AACA,IAAMA,MAAMC,QAAZ;;AAEA;AACAC,KAAK;AACH;;;AAGAC,QAAM;AACJC,WAAO,YADH;AAEJC,cAAU,EAFN;AAGJC,YAAQ;AAHJ,GAJH;AASH;;;AAGAC,QAZG,oBAYO;AAAA;;AACRC,YAAQC,GAAR,CAAY,+BAAZ;AACA;AACAT,QAAIU,WAAJ,GACGC,IADH,CACQ;AAAA,aAAQ,MAAKC,OAAL,CAAa,EAAEP,UAAUQ,IAAZ,EAAb,CAAR;AAAA,KADR,EAEGC,KAFH,CAESN,QAAQK,IAFjB;;AAIA,SAAKE,SAAL;AAED,GArBE;;AAsBH;;;;AAIAA,WA1BG,uBA0BU;AACX,QAAMC,OAAO,IAAb;AACAC,OAAGC,OAAH,CAAW;AACTC,WAAK,uDADI;AAETC,cAAQ;AACJ,wBAAgB;AADZ,OAFC;AAKTC,eAAS,iBAASC,GAAT,EAAc;AACrBd,gBAAQC,GAAR,CAAYa,GAAZ;AACAN,aAAKJ,OAAL,CAAa;AACXN,kBAAQgB,IAAInB,IAAJ,CAASoB;AADN,SAAb;AAGD;AAVQ,KAAX;AAYD,GAxCE;;AAyCH;;;AAGAC,SA5CG,qBA4CQ;AACThB,YAAQC,GAAR,CAAY,gCAAZ;AACD,GA9CE;;AA+CH;;;AAGAgB,QAlDG,oBAkDO;AACRjB,YAAQC,GAAR,CAAY,+BAAZ;AACD,GApDE;;AAqDH;;;AAGAiB,QAxDG,oBAwDO;AACRlB,YAAQC,GAAR,CAAY,+BAAZ;AACD,GA1DE;;AA2DH;;;AAGAkB,UA9DG,sBA8DS;AACVnB,YAAQC,GAAR,CAAY,iCAAZ;AACD,GAhEE;;AAiEH;;;AAGAmB,mBApEG,+BAoEkB;AACnBpB,YAAQC,GAAR,CAAY,0CAAZ;AACD;AAtEE,CAAL","file":"index.js","sourcesContent":["// 获取全局应用程序实例对象\nconst app = getApp()\n\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n  data: {\n    title: 'Index page',\n    userInfo: {},\n    topics: []\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad () {\n    console.log(' ---------- onLoad ----------')\n    // console.dir(app.data)\n    app.getUserInfo()\n      .then(info => this.setData({ userInfo: info }))\n      .catch(console.info)\n\n    this.fetchData();\n\n  },\n  /**\n   * 获取图片列表\n   * @return Array\n   */\n  fetchData () {\n    const self = this;\n    wx.request({\n      url: 'https://haixiu.huangsy.me/api/topics?start=0&limit=10',\n      header: {\n          'content-type': 'application/json'\n      },\n      success: function(res) {\n        console.log(res)\n        self.setData({\n          topics: res.data.docs\n        })\n      }\n    })\n  },\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    console.log(' ---------- onReady ----------')\n  },\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    console.log(' ---------- onShow ----------')\n  },\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    console.log(' ---------- onHide ----------')\n  },\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    console.log(' ---------- onUnload ----------')\n  },\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    console.log(' ---------- onPullDownRefresh ----------')\n  }\n})\n"]}